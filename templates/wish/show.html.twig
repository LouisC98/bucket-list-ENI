{% extends 'base.html.twig' %}

{% block title %}Wish{% endblock %}

{% block body %}
<section class="mx-auto px-2 py-5 w-full sm:w-2/3">
    <div class="grid gap-4 rounded shadow-md border border-gray-300 p-3 mb-5">
        {% if wish.category is not empty %}
            <em class="text-sm font-semibold text-gray-500">{{ wish.category.name }}</em>
        {% endif %}
        <div class="flex justify-between items-center gap-2 ">
            <h1 class="text-2xl font-semibold">{{ wish.title }}</h1>
            {% if app.user is same as(wish.author) %}
                <button
                        id="changeWishStatus"
                        class="cursor-pointer text-2xl hover:text-shadow-md hover:scale-110"
                        {#                    data-wish-id="{{ wish.id }}"#}
                        data-wish-url="{{ path('app_wish_status', {id: wish.id}) }}"
                        title="Changer le statut">
                    {{ wish.isCompleted ? '✅' : '❌' }}
                </button>
            {% else %}
                <div class="text-2xl">
                    {{ wish.isCompleted ? '✅' : '❌' }}
                </div>
            {% endif %}
        </div>
        <p class="my-2">{{ wish.description }}</p>
        <div class="flex justify-between">
            <a href="{{ path('app_wish_user', { id: wish.author.id }) }}">
                <em class="font-medium text-gray-600 hover:text-primary-500">{{ wish.author.firstName }} {{ wish.author.lastName }}</em>
            </a>
            <div>
                <em class="text-gray-500">{{ wish.isPublished ? 'Public' : 'Privé'}}</em>
                -
                <span>{{ wish.createdAt|date('d/m/Y') }}</span>
            </div>
        </div>


    </div>
        <div class="flex justify-between my-3 gap-2">
        {% if app.user is same as(wish.author) %}
            <a href="{{ path('app_home') }}" class="btn-secondary">Retour à la liste</a>
            <div class="flex gap-2">
                <a href="{{ path('app_wish_edit', {'id': wish.id}) }}" class="btn-primary">Modifier</a>
                {{ include('wish/_delete_form.html.twig') }}
            </div>
        {% endif %}
        </div>
<section>
{% endblock %}