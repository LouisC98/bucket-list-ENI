{% extends 'base.html.twig' %}

{% block title %}Wish{% endblock %}

{% block body %}
<section class="mx-auto px-2 py-5 w-full sm:w-2/3">
    <div class="flex justify-between items-center gap-2">
        <h1 class="text-2xl font-semibold my-4">{{ wish.title }}</h1>
{#        <form method="post" action="{{ path('app_wish_status', {id: wish.id}) }}" style="display: inline;">#}
{#            <input type="hidden" name="_token" value="{{ csrf_token('status' ~ wish.id) }}">#}
{#            <button type="submit" class="cursor-pointer text-3xl" title="Changer le statut">#}
{#                {{ wish.isCompleted ? '✅' : '❌' }}#}
{#            </button>#}
{#        </form>#}
        <button
                id="changeWishStatus"
                class="cursor-pointer text-3xl"
                {#                    data-wish-id="{{ wish.id }}"#}
                data-wish-url="{{ path('app_wish_status', {id: wish.id}) }}"
                title="Changer le statut">
            {{ wish.isCompleted ? '✅' : '❌' }}
        </button>
    </div>
    <p class="my-2">{{ wish.description }}</p>
    <div class="flex justify-between">
        <em>{{ wish.author }}</em>
        <span>{{ wish.createdAt|date('d/m/Y')}}</span>
    </div>

    <div class="flex justify-between my-3 gap-2">
        <a href="{{ path('app_home') }}" class="btn-secondary">Retour à la liste</a>
        <div class="flex gap-2">
            <a href="{{ path('app_wish_edit', {'id': wish.id}) }}" class="btn-primary">Modifier</a>
            {{ include('wish/_delete_form.html.twig') }}
        </div>
    </div>
<section>
{% endblock %}